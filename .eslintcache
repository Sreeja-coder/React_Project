[{"C:\\Sreeja\\React\\vidly\\src\\index.js":"1","C:\\Sreeja\\React\\vidly\\src\\reportWebVitals.js":"2","C:\\Sreeja\\React\\vidly\\src\\App.js":"3","C:\\Sreeja\\React\\vidly\\src\\components\\movies.jsx":"4","C:\\Sreeja\\React\\vidly\\src\\services\\fakeMovieService.js":"5","C:\\Sreeja\\React\\vidly\\src\\services\\fakeGenreService.js":"6","C:\\Sreeja\\React\\vidly\\src\\components\\common\\liked.jsx":"7","C:\\Sreeja\\React\\vidly\\src\\components\\common\\pagination.jsx":"8","C:\\Sreeja\\React\\vidly\\src\\utils\\paginate.js":"9","C:\\Sreeja\\React\\vidly\\src\\components\\common\\listGroup.jsx":"10","C:\\Sreeja\\React\\vidly\\src\\components\\moviesTable.jsx":"11","C:\\Sreeja\\React\\vidly\\src\\components\\common\\tableHeader.jsx":"12","C:\\Sreeja\\React\\vidly\\src\\components\\common\\tableBody.jsx":"13","C:\\Sreeja\\React\\vidly\\src\\components\\common\\table.jsx":"14","C:\\Sreeja\\React\\vidly\\src\\components\\customers.jsx":"15","C:\\Sreeja\\React\\vidly\\src\\components\\notFound.jsx":"16","C:\\Sreeja\\React\\vidly\\src\\components\\rentals.jsx":"17","C:\\Sreeja\\React\\vidly\\src\\components\\navBar.jsx":"18","C:\\Sreeja\\React\\vidly\\src\\components\\movieForm.jsx":"19","C:\\Sreeja\\React\\vidly\\src\\components\\loginForm.jsx":"20","C:\\Sreeja\\React\\vidly\\src\\components\\common\\input.jsx":"21","C:\\Sreeja\\React\\vidly\\src\\components\\common\\form.jsx":"22","C:\\Sreeja\\React\\vidly\\src\\components\\resgister.jsx":"23","C:\\Sreeja\\React\\vidly\\src\\components\\common\\dropDown.jsx":"24","C:\\Sreeja\\React\\vidly\\src\\components\\common\\searchBox.jsx":"25","C:\\Sreeja\\React\\vidly\\src\\services\\genreServices.js":"26","C:\\Sreeja\\React\\vidly\\src\\services\\httpServices.js":"27","C:\\Sreeja\\React\\vidly\\src\\services\\logService.js":"28","C:\\Sreeja\\React\\vidly\\src\\services\\movieServices.js":"29","C:\\Sreeja\\React\\vidly\\src\\services\\userServices.js":"30","C:\\Sreeja\\React\\vidly\\src\\services\\authServices.js":"31","C:\\Sreeja\\React\\vidly\\src\\components\\logout.jsx":"32","C:\\Sreeja\\React\\vidly\\src\\components\\common\\protectedRoute.jsx":"33"},{"size":742,"mtime":1610216241758,"results":"34","hashOfConfig":"35"},{"size":362,"mtime":499162500000,"results":"36","hashOfConfig":"35"},{"size":1971,"mtime":1610148770550,"results":"37","hashOfConfig":"35"},{"size":5296,"mtime":1610261341940,"results":"38","hashOfConfig":"35"},{"size":2491,"mtime":1609636088950,"results":"39","hashOfConfig":"40"},{"size":258,"mtime":1608618101956,"results":"41","hashOfConfig":"40"},{"size":376,"mtime":1608776960631,"results":"42","hashOfConfig":"35"},{"size":901,"mtime":1608841224257,"results":"43","hashOfConfig":"35"},{"size":263,"mtime":1609176931725,"results":"44","hashOfConfig":"35"},{"size":573,"mtime":1608848582728,"results":"45","hashOfConfig":"35"},{"size":1772,"mtime":1610151116853,"results":"46","hashOfConfig":"35"},{"size":1364,"mtime":1609119199834,"results":"47","hashOfConfig":"35"},{"size":620,"mtime":1609037863893,"results":"48","hashOfConfig":"35"},{"size":458,"mtime":1609039618149,"results":"49","hashOfConfig":"35"},{"size":124,"mtime":1609119546280,"results":"50","hashOfConfig":"35"},{"size":123,"mtime":1609119617691,"results":"51","hashOfConfig":"35"},{"size":119,"mtime":1609119573557,"results":"52","hashOfConfig":"35"},{"size":1584,"mtime":1610100650948,"results":"53","hashOfConfig":"35"},{"size":3083,"mtime":1610065228643,"results":"54","hashOfConfig":"35"},{"size":2185,"mtime":1610150685054,"results":"55","hashOfConfig":"35"},{"size":435,"mtime":1609313380536,"results":"56","hashOfConfig":"35"},{"size":3196,"mtime":1610092898827,"results":"57","hashOfConfig":"35"},{"size":1804,"mtime":1610131723015,"results":"58","hashOfConfig":"35"},{"size":643,"mtime":1609635926034,"results":"59","hashOfConfig":"35"},{"size":313,"mtime":1609638113843,"results":"60","hashOfConfig":"35"},{"size":184,"mtime":1610260985798,"results":"61","hashOfConfig":"35"},{"size":1113,"mtime":1610263597001,"results":"62","hashOfConfig":"35"},{"size":687,"mtime":1610052779729,"results":"63","hashOfConfig":"35"},{"size":722,"mtime":1610261005568,"results":"64","hashOfConfig":"35"},{"size":314,"mtime":1610261025136,"results":"65","hashOfConfig":"35"},{"size":920,"mtime":1610260958405,"results":"66","hashOfConfig":"35"},{"size":274,"mtime":1610130046148,"results":"67","hashOfConfig":"35"},{"size":679,"mtime":1610150317634,"results":"68","hashOfConfig":"35"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},"2hokie",{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"71"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},"15wxxpg",{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"81"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"71"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"71"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"71"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"71"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"71"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"71"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"71"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"71"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"71"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"71"},"C:\\Sreeja\\React\\vidly\\src\\index.js",[],["149","150"],"C:\\Sreeja\\React\\vidly\\src\\reportWebVitals.js",[],"C:\\Sreeja\\React\\vidly\\src\\App.js",[],"C:\\Sreeja\\React\\vidly\\src\\components\\movies.jsx",["151","152","153","154"],"import React, { Component } from 'react';\r\n// import {getMovies} from '../services/fakeMovieService';\r\n// import {getGenres} from '../services/fakeGenreService';\r\nimport {getGenres} from '../services/genreServices';\r\nimport {getMovies,deleteMovie} from '../services/movieServices';\r\nimport Pagination from './common/pagination';\r\nimport {paginate} from '../utils/paginate';\r\nimport ListGroup from './common/listGroup';\r\nimport MoviesTable from './moviesTable';\r\nimport { Link } from 'react-router-dom';\r\nimport _ from 'lodash';\r\nimport LoginForm from './loginForm';\r\nimport SearchBox from './common/searchBox';\r\nimport {toast} from 'react-toastify';\r\n\r\nclass Movies extends Component {\r\n    state = { \r\n        movies: [],\r\n        pageSize:4,\r\n        currentPage:1,\r\n        genres : [],\r\n        selectedGenres:null,\r\n        searchQuery:\"\",\r\n        sortColumn:{sorton:'title', order:'asc'}\r\n        //like:\"fa fa-heart-o\"\r\n     }\r\n\r\n     async componentDidMount(){\r\n         //since we are getting our genres from database it is returning a promise not an array which we can spread\r\n         //hence we use await to get the values\r\n         const{data} = await getGenres();\r\n         const genres = [{_id:\"\", name:\"All Genres\"},...data]\r\n         const {data:movies} = await getMovies();\r\n        this.setState({movies,genres})\r\n\r\n     }\r\n     handleDelete=async (id)=>{\r\n         //sometimes an update to the server can fail we need to catch that exception.\r\n         const originalMovies = this.state.movies;\r\n         this.setState({movies:originalMovies.filter(movie => movie._id !== id )});\r\n         try{\r\n             await deleteMovie(id);\r\n            }\r\n         catch(ex){\r\n             console.log(\"exception\",ex)\r\n             if(ex.response && ex.response.status === 404)\r\n                toast.error(\"The movie has already been deleted\");\r\n                this.setState({movies:originalMovies})\r\n         }\r\n         \r\n     }\r\n     \r\n     handleLike=(m)=>{\r\n         console.log(m);\r\n        const movies= [...this.state.movies];\r\n        const index = movies.indexOf(m);\r\n        movies[index] = {...m};\r\n        console.log(movies[index].liked)\r\n        movies[index].liked = !movies[index].liked;\r\n        this.setState({movies});\r\n        console.log(movies[index].liked)\r\n\r\n     }\r\n\r\n     handlePageChange =(page) =>{\r\n         console.log(page)\r\n         this.setState({currentPage:page})\r\n\r\n     }\r\n\r\n     handleGenreSelect =(genre) => {\r\n         this.setState({selectedGenres:genre,currentPage:1,searchQuery:\"\"})\r\n     }\r\n\r\n     handleSort= (sortColumn) =>{   \r\n        this.setState({sortColumn})\r\n\r\n\r\n     }\r\n\r\n     handleSearch = (query) =>{\r\n         \r\n         this.setState({searchQuery:query,currentPage:1,selectedGenres:null})\r\n         //console.log(\"searchQuery\",this.state.searchQuery);\r\n     }\r\n\r\n     getFilteredSortedPagedData = () =>{\r\n        const {currentPage,pageSize,movies,genres,selectedGenres,sortColumn,searchQuery} = this.state;\r\n        //if we have a query in the search box then perform the following\r\n        // we have to filter the movies based on the genre and apply sorting before we paginate\r\n        let filtered = movies;\r\n        if(searchQuery)\r\n        filtered=movies.filter(m=> m.title.toLowerCase().startsWith(searchQuery.toLowerCase()))\r\n        else if (selectedGenres && selectedGenres._id)\r\n        filtered = selectedGenres && selectedGenres._id ? movies.filter(m => m.genre._id === selectedGenres._id) :movies;\r\n        const sorted = _.orderBy(filtered,[sortColumn.sorton],[sortColumn.order]);\r\n        const moveraPerPage = paginate(sorted,currentPage,pageSize);  //dividing how many movies will appear per page\r\n\r\n        return {moveraPerPage:moveraPerPage,numOfMovies:filtered.length};\r\n     }\r\n\r\n  \r\n    render() { \r\n        \r\n        const count = this.state.movies.length;\r\n        const {currentPage,pageSize,movies,genres,selectedGenres,sortColumn,searchQuery} = this.state;\r\n        const {moveraPerPage,numOfMovies}  = this.getFilteredSortedPagedData();\r\n        const{user} = this.props;\r\n        // if (count === 0)\r\n        // return <p>There are no movies in the database</p>\r\n        return ( \r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-2\">\r\n                    <ListGroup \r\n                    items={genres}\r\n                    textProperty=\"_id\"\r\n                    valueProperty=\"name\"\r\n                    selectedGenres={selectedGenres}\r\n                    onItemSelect={this.handleGenreSelect}/>\r\n                </div>\r\n                \r\n                <div className=\"col\">\r\n                {user && <Link to='/movies/new' className=\"btn btn-primary\">New Movie</Link>}\r\n                    <p>Showing {numOfMovies} in the database </p>\r\n                <SearchBox value={searchQuery} onChange={this.handleSearch}/>\r\n                <MoviesTable moveraPerPage={moveraPerPage} onDelete={this.handleDelete} onLiked ={this.handleLike} sortColumn={sortColumn} onSort={this.handleSort} user={user}/>\r\n                \r\n            <span><Pagination totalItems={numOfMovies} currentPage={currentPage} pageSize={pageSize} onPageChange={this.handlePageChange}/></span></div>\r\n\r\n                \r\n            </div>\r\n            );\r\n    }\r\n}\r\n \r\nexport default Movies;","C:\\Sreeja\\React\\vidly\\src\\services\\fakeMovieService.js",[],["155","156"],"C:\\Sreeja\\React\\vidly\\src\\services\\fakeGenreService.js",[],"C:\\Sreeja\\React\\vidly\\src\\components\\common\\liked.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\common\\pagination.jsx",["157","158"],"import React from 'react';\r\nimport _ from 'lodash';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Pagination = (props) => {\r\n    const {totalItems,pageSize,onPageChange,currentPage} = props;\r\n    console.log(\"current page\",currentPage);\r\n    const pageCount = Math.ceil(totalItems/pageSize);\r\n    const pages = _.range(1,pageCount+1);\r\n    \r\n    if(pages == 1) return null;\r\n    return ( <nav>\r\n        <ul className=\"pagination\">\r\n            {pages.map(page => <li key={page} className={page === currentPage?\"page-item active\":\"page-item\"} ><a onClick={() => onPageChange(page)} className=\"page-link\">{page}</a></li>)}\r\n            \r\n        </ul>\r\n    </nav> );\r\n}\r\nPagination.propTypes= {\r\n    totalItems:PropTypes.number.isRequired,\r\n    pageSize:PropTypes.number.isRequired,\r\n    onPageChange:PropTypes.func.isRequired,\r\n    currentPage:PropTypes.number.isRequired\r\n}\r\nexport default Pagination;","C:\\Sreeja\\React\\vidly\\src\\utils\\paginate.js",["159"],"import _ from 'lodash';\r\n\r\nimport Pagination from '../components/common/pagination';\r\n\r\nexport function paginate (items,pageNumber,pageSize){\r\n    const startIndex = (pageNumber-1) * pageSize ;\r\n    return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n\r\n","C:\\Sreeja\\React\\vidly\\src\\components\\common\\listGroup.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\moviesTable.jsx",["160","161","162"],"import React,{Component} from 'react';\r\nimport Table from './common/table';\r\nimport Liked from \"./common/liked\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n// abstracting the table headers as it will help us implement this component more freely in any future code we want.\r\n\r\nclass MoviesTable extends Component {\r\n    \r\n     columns= [\r\n        {label:\"Title\",path:\"title\",content : (movie) => <Link to={`/movies/${movie._id}`}>{movie.title}</Link>},\r\n        {label:\"Genre\",path:\"genre.name\"},\r\n        {label:\"Stock\",path:\"numberInStock\"},\r\n        {label:\"Rate\",path:\"dailyRentalRate\"},\r\n        {key:\"like\", content:(movie) => <Liked liked={movie.liked} onClick = {() => this.props.onLiked(movie)}/>},\r\n       {key:\"delete\",content:(movie)=><button onClick = {() => this.props.onDelete(movie._id)}className=\"btn btn-danger\">Delete</button>}\r\n    \r\n     ];\r\n     col = [...this.columns]\r\n    render() { \r\n        \r\n        const {moveraPerPage,onDelete,onLiked,onSort,sortColumn,user} = this.props\r\n        if (!user || (user && !user.isAdmin))\r\n        {\r\n            \r\n            this.col = this.col.filter(c => c.path || c.key != \"delete\")\r\n           \r\n         \r\n                \r\n        }\r\n        console.log(this.col)\r\n        return  (\r\n    //          <table className=\"table table-hover\">\r\n           \r\n    //         <TableHeader columns={this.columns} onSort={onSort} sortColumn={sortColumn} />   \r\n    //         <TableBody moveraPerPage={moveraPerPage} columns={this.columns}  />\r\n        \r\n    // </table> \r\n          <React.Fragment> \r\n        \r\n        <Table moveraPerPage={moveraPerPage} columns={this.col} sortColumn={sortColumn} onSort={onSort}/>\r\n        </React.Fragment>\r\n   \r\n    \r\n    );\r\n    }\r\n}\r\n \r\nexport default MoviesTable;\r\n\r\n\r\n\r\n","C:\\Sreeja\\React\\vidly\\src\\components\\common\\tableHeader.jsx",["163"],"import React, { Component } from 'react';\r\n\r\n//this componenet should render the columns and its properties of onClick\r\n//so to render it we should get an array of columns  from its parent and map it here.\r\n\r\n\r\nclass TableHeader extends Component {\r\n    raiseSort= (sorton) =>{\r\n        const sortColumn = {...this.props.sortColumn}\r\n        if (sortColumn.sorton === sorton){\r\n            sortColumn.order = sortColumn.order ===\"asc\"?\"desc\":\"asc\";\r\n        }\r\n        else{\r\n            sortColumn.order ='asc';\r\n            sortColumn.sorton =sorton;\r\n        }\r\n        this.props.onSort(sortColumn)\r\n        // this.setState({sortColumn})\r\n        //  console.log(sorton)\r\n     }\r\n\r\n     renderSortIcon =(column,sortColumn) =>{\r\n         if (sortColumn.sorton != column.path) return null;\r\n         if (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\" aria-hidden=\"true\"/>\r\n\r\n         return <i className=\"fa fa-sort-desc\" aria-hidden=\"true\"/>\r\n\r\n     }\r\n\r\n    render() { \r\n        const {columns,sortColumn} = this.props\r\n        return ( <thead>\r\n            <tr>\r\n               { columns.map(column => <th key = {column.path || column.key} onClick={() => this.raiseSort(column.path)} scope=\"col\">{column.label}{this.renderSortIcon(column,sortColumn)}</th> )}\r\n            </tr>\r\n        </thead> );\r\n    }\r\n}\r\n \r\nexport default TableHeader;","C:\\Sreeja\\React\\vidly\\src\\components\\common\\tableBody.jsx",[],["164","165"],"C:\\Sreeja\\React\\vidly\\src\\components\\common\\table.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\customers.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\notFound.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\rentals.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\navBar.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\movieForm.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\loginForm.jsx",["166"],"import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\nimport{loginAuth} from '../services/authServices';\r\n\r\nimport Form from './common/form';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { getCurrentUser } from './../services/authServices';\r\n\r\n//input element has its own state hence we should make it an controlled element \r\nclass LoginForm extends Form {\r\n    schema = {\r\n        username : Joi.string().required().label(\"Username\"),\r\n        password : Joi.string().required().label(\"Password\")\r\n    }\r\n    state ={\r\n        data:{username:'',password:''},\r\n        errors:{}        \r\n    }\r\n\r\n    \r\n\r\n    doSubmit = async () =>{  \r\n              //call the server to perform logic for after submission of the form\r\n        console.log(\"Submitted\");try {\r\n            //this return a json web token value which is unique to each ser we have to save it \r\n            await loginAuth(this.state.data)\r\n\r\n           // we have to store this in the local storage of the browser\r\n           \r\n            //this.props.history.push(\"/\") we want the application to be re-loaded again as we want the component did mount to run again so that it can update the state with the \r\n            //correct username\r\n            // window.location='/';\r\n            const{state} = this.props.location\r\n            window.location = state? state.from.pathname:\"/\";\r\n      \r\n        } catch (error) {\r\n            if(error.response && error.response.status ===400)\r\n            {\r\n                const errors = this.state.errors;\r\n                errors.username=error.response.data;\r\n                this.setState({errors});\r\n            }\r\n        }\r\n        \r\n      \r\n    \r\n    }\r\n        \r\n\r\n\r\n\r\n    render() { \r\n        if(getCurrentUser()) return <Redirect to=\"/\"/>\r\n        \r\n        return (\r\n            <form onSubmit={this.handleSubmit}>\r\n                {/* extract the div+label+input elements into another component */}\r\n                {this.renderInput('username','Username')}\r\n                {this.renderInput('password','Password','password')}\r\n                {this.renderButton(\"Login\")}\r\n          </form> );\r\n    }\r\n}\r\n \r\nexport default LoginForm;","C:\\Sreeja\\React\\vidly\\src\\components\\common\\input.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\common\\form.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\resgister.jsx",["167","168"],"import React, { Component } from 'react';\r\nimport {toast} from 'react-toastify';\r\nimport Joi from 'joi-browser';\r\nimport Form from './common/form';\r\nimport{loginWithJwt} from './../services/authServices';\r\nimport { register } from './../services/userServices';\r\n\r\n\r\nclass Register extends Form {\r\n    state ={\r\n        data:{username:'',password:'',name:''},\r\n        errors:{}        \r\n    }\r\n    schema = {\r\n        username : Joi.string().email().required().label(\"Username\"),\r\n        password : Joi.string().required().min(5).max(20).label(\"Password\"),\r\n        name : Joi.string().required().label(\"Name\")\r\n    }\r\n\r\n    doSubmit = async () =>{  \r\n        //call the server to perform logic for after submission of the form\r\n        \r\n        try{\r\n\r\n            const response = await register(this.state.data)\r\n            loginWithJwt(response.headers[\"x-auth-token\"]);\r\n            //this.props.history.push(\"/\")\r\n            window.location = \"/\";\r\n        }\r\n        catch(ex){\r\n            console.log(ex.response.data)\r\n            if(ex.resposne && ex.resposne.status===400){\r\n                let errors =  {...this.state.errors}\r\n                errors.username=ex.response.data;\r\n                console.log(errors[\"username\"]);\r\n                this.setState({errors})\r\n            }\r\n            // toast.error(\"The user already exist\");\r\n        }\r\n    }\r\n    render() { \r\n        return (<form onSubmit={this.handleSubmit}>\r\n            {/* extract the div+label+input elements into another component */}\r\n            {this.renderInput('username','Username')}\r\n            {this.renderInput('password','Password','password')}\r\n            {this.renderInput('name','Name','name')}\r\n            {this.renderButton(\"Register\")}\r\n      </form>  );\r\n    }\r\n}\r\n \r\nexport default Register;\r\n","C:\\Sreeja\\React\\vidly\\src\\components\\common\\dropDown.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\components\\common\\searchBox.jsx",[],"C:\\Sreeja\\React\\vidly\\src\\services\\genreServices.js",[],"C:\\Sreeja\\React\\vidly\\src\\services\\httpServices.js",["169"],"C:\\Sreeja\\React\\vidly\\src\\services\\logService.js",["170"],"// import * as Sentry from \"@sentry/react\";\r\n// import { Integrations } from \"@sentry/tracing\";\r\n\r\nfunction init(){\r\n    // Sentry.init({\r\n    //     dsn: \"https://6f94c02111824f6482a71b5f0def290c@o500076.ingest.sentry.io/5579388\",\r\n    //     release: \"http-app-sree@\" + process.env.npm_package_version,\r\n    //     integrations: [new Integrations.BrowserTracing()],\r\n      \r\n    //     // We recommend adjusting this value in production, or using tracesSampler\r\n    //     // for finer control\r\n    // //     tracesSampleRate: 1.0,\r\n    //   });   \r\n}\r\n\r\nfunction log(error){\r\n    console.log(error);\r\n    // Sentry.captureException(error)\r\n}\r\n\r\nexport default{\r\n    init,\r\n    log\r\n};","C:\\Sreeja\\React\\vidly\\src\\services\\movieServices.js",[],"C:\\Sreeja\\React\\vidly\\src\\services\\userServices.js",[],"C:\\Sreeja\\React\\vidly\\src\\services\\authServices.js",["171"],"import http from './httpServices';\r\n// import {url} from '../config.json';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst apiurl =\"auth\";\r\nhttp.setJwt(getJwt())\r\n\r\nexport async function loginAuth(userInfo){\r\n    const{data:jwt} =  await http.post(apiurl,{\r\n        email:userInfo.username,\r\n        password:userInfo.password\r\n    })\r\n    localStorage.setItem(\"token\",jwt);\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem('token');\r\n}\r\n\r\nexport function getCurrentUser(){\r\n    try {\r\n    const jwt = localStorage.getItem(\"token\");\r\n    const user = jwtDecode(jwt);\r\n    console.log(\"App\",user)\r\n    return user;\r\n    //this.setState({user})     \r\n  \r\n      } \r\n      catch (error) {\r\n          return null;\r\n        console.log(\"App error\")\r\n      }\r\n}\r\n\r\nexport function loginWithJwt(jwt){\r\n    localStorage.setItem(\"token\",jwt)\r\n}\r\n\r\nexport function getJwt(){\r\n    return localStorage.getItem(\"token\");\r\n}","C:\\Sreeja\\React\\vidly\\src\\components\\logout.jsx",["172"],"import React, { Component } from 'react';\r\nimport {logout} from '../services/authServices';\r\nclass Logout extends Component {\r\n componentDidMount() {\r\n     logout();\r\n     window.location = \"/\";\r\n }\r\n    render() { \r\n        return null;\r\n    }\r\n}\r\n \r\nexport default Logout;","C:\\Sreeja\\React\\vidly\\src\\components\\common\\protectedRoute.jsx",["173"],"import React from 'react';\r\nimport {Route,Switch,Redirect} from 'react-router-dom';\r\nimport { getCurrentUser } from './../../services/authServices';\r\n\r\nconst ProtectedRoute = ({path,component:Component,render,...rest}) => {\r\n    return (  \r\n    <Route \r\n    {...rest}\r\n    path={path}\r\n     render={\r\n         props =>{\r\n            // console.log(props) this has history of the past page the user was on and can be used to re-direct the user there\r\n            if(!getCurrentUser()) return <Redirect to={{pathname:\"/login\",state:{from:props.location}}}/>\r\n            return Component?<Component {...props} />:render(props)\r\n }}/>\r\n     );\r\n};\r\n \r\nexport default ProtectedRoute;",{"ruleId":"174","replacedBy":"175"},{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","severity":1,"message":"179","line":12,"column":8,"nodeType":"180","messageId":"181","endLine":12,"endColumn":17},{"ruleId":"178","severity":1,"message":"182","line":88,"column":44,"nodeType":"180","messageId":"181","endLine":88,"endColumn":50},{"ruleId":"178","severity":1,"message":"183","line":105,"column":15,"nodeType":"180","messageId":"181","endLine":105,"endColumn":20},{"ruleId":"178","severity":1,"message":"184","line":106,"column":37,"nodeType":"180","messageId":"181","endLine":106,"endColumn":43},{"ruleId":"174","replacedBy":"185"},{"ruleId":"176","replacedBy":"186"},{"ruleId":"187","severity":1,"message":"188","line":11,"column":14,"nodeType":"189","messageId":"190","endLine":11,"endColumn":16},{"ruleId":"191","severity":1,"message":"192","line":14,"column":112,"nodeType":"193","endLine":14,"endColumn":172},{"ruleId":"178","severity":1,"message":"194","line":3,"column":8,"nodeType":"180","messageId":"181","endLine":3,"endColumn":18},{"ruleId":"178","severity":1,"message":"195","line":22,"column":30,"nodeType":"180","messageId":"181","endLine":22,"endColumn":38},{"ruleId":"178","severity":1,"message":"196","line":22,"column":39,"nodeType":"180","messageId":"181","endLine":22,"endColumn":46},{"ruleId":"187","severity":1,"message":"197","line":26,"column":61,"nodeType":"189","messageId":"190","endLine":26,"endColumn":63},{"ruleId":"187","severity":1,"message":"197","line":23,"column":32,"nodeType":"189","messageId":"190","endLine":23,"endColumn":34},{"ruleId":"174","replacedBy":"198"},{"ruleId":"176","replacedBy":"199"},{"ruleId":"178","severity":1,"message":"200","line":1,"column":17,"nodeType":"180","messageId":"181","endLine":1,"endColumn":26},{"ruleId":"178","severity":1,"message":"200","line":1,"column":17,"nodeType":"180","messageId":"181","endLine":1,"endColumn":26},{"ruleId":"178","severity":1,"message":"201","line":2,"column":9,"nodeType":"180","messageId":"181","endLine":2,"endColumn":14},{"ruleId":"202","severity":1,"message":"203","line":26,"column":3,"nodeType":"204","endLine":34,"endColumn":5},{"ruleId":"202","severity":1,"message":"203","line":21,"column":1,"nodeType":"204","endLine":24,"endColumn":3},{"ruleId":"205","severity":1,"message":"206","line":31,"column":9,"nodeType":"207","messageId":"208","endLine":31,"endColumn":33},{"ruleId":"178","severity":1,"message":"209","line":1,"column":8,"nodeType":"180","messageId":"181","endLine":1,"endColumn":13},{"ruleId":"178","severity":1,"message":"210","line":2,"column":15,"nodeType":"180","messageId":"181","endLine":2,"endColumn":21},"no-native-reassign",["211"],"no-negated-in-lhs",["212"],"no-unused-vars","'LoginForm' is defined but never used.","Identifier","unusedVar","'genres' is assigned a value but never used.","'count' is assigned a value but never used.","'movies' is assigned a value but never used.",["211"],["212"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Pagination' is defined but never used.","'onDelete' is assigned a value but never used.","'onLiked' is assigned a value but never used.","Expected '!==' and instead saw '!='.",["211"],["212"],"'Component' is defined but never used.","'toast' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unreachable","Unreachable code.","ExpressionStatement","unreachableCode","'React' is defined but never used.","'Switch' is defined but never used.","no-global-assign","no-unsafe-negation"]